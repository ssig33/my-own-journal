# Changelog

## 2025-03-16
- MainViewのジャーナル表示にリロードボタンを再追加
  - ユーザーがいつでも最新のジャーナル内容を取得できるようにするため

## 2025-03-11
- 「ジャーナルに追記」のUI改善
  - リロードボタンを削除（不要な機能）
  - 入力エリアのデザインを洗練化（グラデーション、影効果の追加）
  - 適応型レイアウトの実装（一行表示と複数行表示の自動切り替え）
  - 送信ボタンの位置を動的に調整（テキストと被らないよう最適化）
- iPadやmacOSでの設定画面表示の改善
  - NavigationViewにStackNavigationViewStyleを適用して、すべてのプラットフォームで一貫した表示を実現

## 2025-03-10
- キーボード操作の改善
  - キーボードが必要ないビューをタップしたら自動でキーボードが消える機能を実装
  - 全ての入力フィールドがあるビュー（SearchView, EditView, MainView, SettingsView）に適用
  - View拡張機能を使用して一貫した動作を実現
- 検索結果表示の改善
  - 検索結果にファイル名だけでなくパスも表示するように変更
  - 検索クエリが入力されている場合のみパスを表示
  - ディレクトリを掘っている場合やルートディレクトリを表示している場合はファイル名のみを表示
- MarkdownView の改善
  - Down ライブラリの依存関係を削除
  - CDN から markdown-it を使用するように変更
  - HTML と JavaScript を使用して Markdown をレンダリング
  - 既存のスタイルと機能を維持
  - シンタックスハイライト機能を追加（highlight.js を使用）
  - コードブロック内のコードが言語に応じて適切にハイライトされるように改善
  - ライトモードとダークモードの両方に対応したハイライトスタイルを実装

## 2025-03-09
- マークダウン表示のダークモード対応
  - ダークモード時にテキストが読みやすくなるよう色を調整
  - CSSメディアクエリを使用してダークモード時のスタイルを定義
  - コードブロック、テーブル、引用などの背景色や境界線の色もダークモードに対応
  - HTML/CSSの`color-scheme`プロパティを使用してシステムの色設定に対応
- 編集機能の改善
  - 同じファイルを複数回編集する際の409エラー（Conflict）を適切に処理
  - 編集ビュー表示時に最新のファイル内容とSHAを取得する機能を追加
  - コンフリクト検出時に丁寧なエラーメッセージを表示
  - 最新の内容を確認し、「最新の内容を採用」または「自分の変更を維持」を選択できる機能を追加
- ジャーナル表示UIの改善
  - ジャーナル表示を検索閲覧ビューと同様のレイアウトに変更
  - ヘッダーにタイトル、リロードボタン、編集ボタンを配置
  - フォームを下部に配置
  - UI全体の一貫性を向上
- 編集ビューの実装
  - 既存のジャーナル内容を編集できる機能
  - Markdownプレビュー機能
  - 編集内容をGitHubに保存する機能
  - MainViewから編集ビューへの遷移機能
  - 検索ビューでのファイル編集機能
- Spotlight検索機能の実装
  - GitHub リポジトリをクロールして、Spotlight検索で検索できる機能
  - 設定画面に「検索インデックスの更新」ボタンを追加
  - 検索結果からアプリ内の閲覧画面に直接遷移するディープリンク機能
  - インデックス登録したファイル数を表示する機能
- リポジトリ検索、ファイル選択、閲覧画面の実装
  - GitHub Search APIを使用したMarkdownファイル内容の検索機能
  - ディレクトリ閲覧機能（空の検索クエリでルートディレクトリを表示）
  - 階層構造のナビゲーション機能（親ディレクトリに戻る機能）
  - ファイル内容のMarkdownレンダリング表示
- アプリケーションのアーキテクチャをMVVMパターンに変更し、コードをリファクタリング
- 単一ファイルから複数ファイルに分割して保守性を向上
- アーキテクチャ解説ドキュメント（docs/architecture.md）を作成
- メインページでMarkdownをレンダリングする機能を実装（Downライブラリを使用）
- テキスト選択機能を有効化
- スクロールインジケータを常に表示するように改善
- Markdownのレンダリング方法をWKWebViewに変更し、見出し、リスト、引用、コードブロックなどの表示を改善
- ボトムナビゲーションとの重なりを解消

## 2025-03-08
- UIKit から SwiftUI ベースに変更
- 「ハロー」「コンニチワ」メッセージを表示する機能を実装
- docs/tasks.md ファイルを作成（GitHub の TODO 形式で作業リストを記載）
- 設定画面の実装（GitHub PAT、リポジトリ名、ジャーナルの記録ルール）
